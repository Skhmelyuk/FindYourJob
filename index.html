<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FindYourJob - сайт про удаленую работу</title>
    <link rel="stylesheet" href="styles/bootstrap-grid.min.css" />
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;700;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/style.css" />
  </head>

  <body>
    <a href="#main" class="skip-link">Перейти к контенту</a>
    <header class="header pb-5">
      <div class="container">
        <div class="row align-items-center justify-content-between py-3">
          <div class="col-6 col-md-2">
            <a href="/" class="logo-link">
              <img src="img/logo.svg" alt="logo: findYourJob" />
            </a>
          </div>
          <!-- /.col -->
          <div
            class="col-6 col-md-7 d-flex justify-content-center header-center"
          >
            <nav class="nav" aria-label="Основная навигация">
              <ul class="menu d-flex">
                <li class="menu-item">
                  <a href="#" class="menu-link" aria-current="page">Главная</a>
                </li>
                <li class="menu-item">
                  <a href="#" class="menu-link">Вакансии</a>
                </li>
                <li class="menu-item">
                  <a href="#" class="menu-link">Компании</a>
                </li>
              </ul>
            </nav>
            <button
              id="mobileMenuToggle"
              type="button"
              class="mobile-menu-toggle"
              aria-label="Открыть меню"
              aria-expanded="false"
              aria-controls="mobileMenu"
              aria-haspopup="true"
              onclick="toggleMobileMenu()"
            >
              ☰
            </button>
          </div>
          <!-- /.col -->
          <div
            class="col-6 col-md-3 d-flex align-items-center justify-content-end header-auth"
          >
            <a href="#" class="button button-link">Войти</a>
            <a href="#" class="button button-primary">Регистрация</a>
          </div>
          <!-- /.col -->
          <div class="mobile-menu" id="mobileMenu" aria-hidden="true">
            <nav class="nav" aria-label="Мобильная навигация">
              <ul class="menu d-flex">
                <li class="menu-item">
                  <a href="#" class="menu-link" aria-current="page">Главная</a>
                </li>
                <li class="menu-item">
                  <a href="#" class="menu-link">Вакансии</a>
                </li>
                <li class="menu-item">
                  <a href="#" class="menu-link">Компании</a>
                </li>
                <li class="menu-item">
                  <a href="#" class="button button-link">Войти</a>
                </li>
                <li class="menu-item">
                  <a href="#" class="button button-primary">Регистрация</a>
                </li>
              </ul>
            </nav>
          </div>
        </div>
        <!-- /.row -->
        <div class="row pt-5">
          <div class="col-12 col-lg-5">
            <h1 class="hero-title">Найдите удаленную работу вашей мечты</h1>
            <p class="hero-text">
              Создайте резюме или отправьте отклик на вакансию в&nbsp;компании с
              мировым именем и работайте <br />
              по свободному графику
            </p>
            <form class="input-group d-flex" role="search" action="#">
              <label for="jobSearch" class="visually-hidden"
                >Поиск вакансий</label
              >
              <input
                id="jobSearch"
                type="search"
                class="input"
                placeholder="Начните поиск"
                inputmode="search"
                enterkeyhint="search"
              />
              <button class="button button-primary" type="submit">
                <img
                  class="button-icon"
                  src="img/search.svg"
                  alt=""
                  aria-hidden="true"
                />
                <span class="button-text">Искать вакансии</span>
              </button>
            </form>
            <!-- /.input-group -->
            <div class="tags-group">
              <span class="tags-label">Например:</span>
              <a href="#" class="tag">Front-end</a>
              <a href="#" class="tag">Back-end</a>
              <a href="#" class="tag">Designer</a>
            </div>
            <!-- /.tags-group -->
          </div>
          <!-- /.col-5 -->
          <div class="col-12 col-lg-6 offset-lg-1">
            <img
              src="img/hero-image.svg"
              alt="Иллюстрация: люди с ноутбуками"
              class="hero-image"
              loading="lazy"
              decoding="async"
            />
          </div>
          <!-- /.col-6 offset-1 -->
        </div>
        <!-- /.row -->
      </div>
      <!-- /.container -->
    </header>
    <main id="main" tabindex="-1">
      <section class="section">
        <div class="container">
          <h2 class="section-title">Категории</h2>
          <div class="row">
            <div class="col-6 col-sm-4 col-md-3 col-lg-2 mb-3">
              <a href="#" class="card d-flex flex-column align-items-center">
                <svg
                  height="24"
                  class="card-icon"
                  aria-hidden="true"
                  focusable="false"
                >
                  <use href="img/icons.svg#brush"></use>
                </svg>
                <span class="card-text">Дизайн</span>
              </a>
            </div>
            <!-- /.col-2 -->
            <div class="col-6 col-sm-4 col-md-3 col-lg-2 mb-3">
              <a href="#" class="card d-flex flex-column align-items-center">
                <svg
                  height="24"
                  class="card-icon"
                  aria-hidden="true"
                  focusable="false"
                >
                  <use href="img/icons.svg#browser"></use>
                </svg>
                <span class="card-text">Разработка</span>
              </a>
            </div>
            <!-- /.col-2 -->
            <div class="col-6 col-sm-4 col-md-3 col-lg-2 mb-3">
              <a href="#" class="card d-flex flex-column align-items-center">
                <svg
                  height="24"
                  class="card-icon"
                  aria-hidden="true"
                  focusable="false"
                >
                  <use href="img/icons.svg#edit"></use>
                </svg>
                <span class="card-text">Копирайтинг</span>
              </a>
            </div>
            <!-- /.col-2 -->
            <div class="col-6 col-sm-4 col-md-3 col-lg-2 mb-3">
              <a href="#" class="card d-flex flex-column align-items-center">
                <svg
                  height="24"
                  class="card-icon"
                  aria-hidden="true"
                  focusable="false"
                >
                  <use href="img/icons.svg#fingerprint"></use>
                </svg>
                <span class="card-text">Безопасность</span>
              </a>
            </div>
            <!-- /.col-2 -->
            <div class="col-6 col-sm-4 col-md-3 col-lg-2 mb-3">
              <a href="#" class="card d-flex flex-column align-items-center">
                <svg
                  height="24"
                  class="card-icon"
                  aria-hidden="true"
                  focusable="false"
                >
                  <use href="img/icons.svg#camera"></use>
                </svg>
                <span class="card-text">Видео</span>
              </a>
            </div>
            <!-- /.col-2 -->
            <div class="col-6 col-sm-4 col-md-3 col-lg-2 mb-3">
              <a href="#" class="card d-flex flex-column align-items-center">
                <svg
                  height="24"
                  class="card-icon"
                  aria-hidden="true"
                  focusable="false"
                >
                  <use href="img/icons.svg#vector"></use>
                </svg>
                <span class="card-text">Образование</span>
              </a>
            </div>
            <!-- /.col-2 -->
          </div>
          <!-- /.row -->
        </div>
        <!-- /.container -->
      </section>
      <section class="section offers">
        <div class="container">
          <h2 class="section-title">Свежие вакансии</h2>
          <div class="offer d-flex align-items-center">
            <div class="offer-image"></div>
            <div class="offer-title">
              <h3 class="offer-heading">Front-end разработчик</h3>
              <span class="offer-place">Технопарк, Казань</span>
            </div>
            <!-- /.offer-title -->
            <span class="offer-salary">65 000 ₽</span>
            <div class="tags-group">
              <span class="tags-label">Требования:</span>
              <a href="#" class="tag">React</a>
              <a href="#" class="tag">Sass</a>
              <a href="#" class="tag">Figma</a>
            </div>
            <!-- /.tags-group -->
            <a href="#" class="offer-more">Подробнее →</a>
          </div>
          <!-- /.offer -->
          <div class="offer d-flex align-items-center">
            <div class="offer-image"></div>
            <div class="offer-title">
              <h3 class="offer-heading">Front-end разработчик</h3>
              <span class="offer-place">Технопарк, Казань</span>
            </div>
            <!-- /.offer-title -->
            <span class="offer-salary">65 000 ₽</span>
            <div class="tags-group">
              <span class="tags-label">Требования:</span>
              <a href="#" class="tag">React</a>
              <a href="#" class="tag">Sass</a>
              <a href="#" class="tag">Figma</a>
            </div>
            <!-- /.tags-group -->
            <a href="#" class="offer-more">Подробнее →</a>
          </div>
          <!-- /.offer -->
          <div class="offer d-flex align-items-center">
            <div class="offer-image"></div>
            <div class="offer-title">
              <h3 class="offer-heading">Front-end разработчик</h3>
              <span class="offer-place">Технопарк, Казань</span>
            </div>
            <!-- /.offer-title -->
            <span class="offer-salary">65 000 ₽</span>
            <div class="tags-group">
              <span class="tags-label">Требования:</span>
              <a href="#" class="tag">React</a>
              <a href="#" class="tag">Sass</a>
              <a href="#" class="tag">Figma</a>
            </div>
            <!-- /.tags-group -->
            <a href="#" class="offer-more">Подробнее →</a>
          </div>
          <!-- /.offer -->
          <div class="offer d-flex align-items-center">
            <div class="offer-image"></div>
            <div class="offer-title">
              <h3 class="offer-heading">Front-end разработчик</h3>
              <span class="offer-place">Технопарк, Казань</span>
            </div>
            <!-- /.offer-title -->
            <span class="offer-salary">65 000 ₽</span>
            <div class="tags-group">
              <span class="tags-label">Требования:</span>
              <a href="#" class="tag">React</a>
              <a href="#" class="tag">Sass</a>
              <a href="#" class="tag">Figma</a>
            </div>
            <!-- /.tags-group -->
            <a href="#" class="offer-more">Подробнее →</a>
          </div>
          <!-- /.offer -->
        </div>
        <!-- /.container -->
      </section>
      <section class="section subscribe">
        <div class="container">
          <form action="#" class="subscribe-form">
            <h2 class="subscribe-title">
              Подпишитесь на рассылку <br />
              с&nbsp;новыми вакансиями
            </h2>
            <p class="subscribe-subtitle">
              Мы отправляем по одному письму в неделю с&nbsp;подходящими вам
              вакансиями
            </p>
            <div class="input-group d-flex">
              <label for="subscriptionEmail" class="visually-hidden"
                >E-mail</label
              >
              <input
                id="subscriptionEmail"
                type="email"
                class="input"
                placeholder="E-mail"
                autocomplete="email"
                inputmode="email"
                required
              />
              <button class="button button-primary" type="submit">
                <img
                  class="button-icon"
                  src="img/envelope.svg"
                  alt=""
                  aria-hidden="true"
                />
                <span class="button-text">Подписаться</span>
              </button>
            </div>
            <!-- /.input-group -->
          </form>
          <!-- /.subscribe-form -->
        </div>
        <!-- /.container -->
      </section>
    </main>
    <footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-12 col-md-6 col-lg-3">
            <img
              src="img/logo.svg"
              alt="logo: find your job"
              class="footer-logo"
              loading="lazy"
              decoding="async"
            />
            <p class="footer-description">
              Сайт с вакансиями для тех, <br />
              кто ищет удаленную работу
            </p>
            <span class="footer-copyright">© 2021</span>
          </div>
          <!-- /.col-3 -->
          <div class="col-12 col-md-6 col-lg-3">
            <h3 class="footer-title">Свяжитесь с нами</h3>
            <ul class="footer-list">
              <li class="footer-list-item">
                <a href="tel:+388002020300" class="footer-list-link"
                  >8 800 20 20 300</a
                >
              </li>
              <li class="footer-item">
                <a href="mailto:info@findyourjob.net" class="footer-list-link"
                  >info@findyourjob.net</a
                >
              </li>
            </ul>
          </div>
          <!-- /.col-3 -->
          <div class="col-12 col-md-6 col-lg-3">
            <h3 class="footer-title">Информация</h3>
            <ul class="footer-list">
              <li class="footer-list-item">
                <a href="#" class="footer-list-link">Обработка данных</a>
              </li>
              <li class="footer-list-item">
                <a href="#" class="footer-list-link">Конфиденциальность</a>
              </li>
              <li class="footer-list-item">
                <a href="#" class="footer-list-link">Публичная оферта</a>
              </li>
            </ul>
          </div>
          <!-- /.col-3 -->
          <div class="col-12 col-md-6 col-lg-3">
            <h3 class="footer-title">Навигация по сайту</h3>
            <ul class="footer-list">
              <li class="footer-list-item">
                <a href="#" class="footer-list-link">Вакансии</a>
              </li>
              <li class="footer-list-item">
                <a href="#" class="footer-list-link">Компании</a>
              </li>
              <li class="footer-list-item">
                <a href="#" class="footer-list-link">Контакты</a>
              </li>
            </ul>
          </div>
          <!-- /.col-3 -->
        </div>
        <!-- /.row -->
      </div>
      <!-- /.container -->
    </footer>

    <script>
      (function () {
        const mobileMenu = document.getElementById("mobileMenu");
        const toggleBtn = document.getElementById("mobileMenuToggle");
        const headerTopRow = document.querySelector(
          ".header .row.align-items-center"
        );
        let lastFocusedElement = null;
        const focusSelectors =
          'a[href], button:not([disabled]), input, select, textarea, [tabindex]:not([tabindex="-1"])';
        const supportsScrollbarGutter = !!(
          window.CSS &&
          CSS.supports &&
          CSS.supports("scrollbar-gutter: stable")
        );
        let scrollLockY = 0;

        function updateMenuPosition() {
          if (!mobileMenu) return;
          const headerHeight = headerTopRow
            ? Math.ceil(headerTopRow.getBoundingClientRect().bottom)
            : 0;
          mobileMenu.style.top = headerHeight ? headerHeight + "px" : "0";
        }

        function setMenuState(isOpen) {
          mobileMenu.classList.toggle("active", isOpen);
          toggleBtn.setAttribute("aria-expanded", String(isOpen));
          mobileMenu.setAttribute("aria-hidden", String(!isOpen));
          document.body.classList.toggle("menu-open", isOpen);
          document.documentElement.classList.toggle("menu-open", isOpen);
          toggleBtn.setAttribute(
            "aria-label",
            isOpen ? "Закрыть меню" : "Открыть меню"
          );

          // Ensure menu is visible under header and prevent horizontal shift
          if (isOpen) {
            updateMenuPosition();
            // Compensate for scrollbar width on Windows (prevents content shifting)
            if (!supportsScrollbarGutter) {
              const scrollbarW =
                window.innerWidth - document.documentElement.clientWidth;
              if (scrollbarW > 0) {
                document.body.style.paddingRight = scrollbarW + "px";
              }
            }
            // Extra guard against horizontal scroll
            document.documentElement.style.overflowX = "hidden";
            // Lock scroll: fix body and preserve scroll position
            scrollLockY = window.scrollY || window.pageYOffset || 0;
            document.body.style.position = "fixed";
            document.body.style.top = "-" + scrollLockY + "px";
            document.body.style.left = "0";
            document.body.style.right = "0";
            document.body.style.width = "100%";
          } else {
            mobileMenu.style.top = "";
            document.body.style.paddingRight = "";
            document.documentElement.style.overflowX = "";
            // Unlock scroll: restore body position and scroll
            const y = scrollLockY || 0;
            document.body.style.position = "";
            document.body.style.top = "";
            document.body.style.left = "";
            document.body.style.right = "";
            document.body.style.width = "";
            scrollLockY = 0;
            window.scrollTo(0, y);
          }

          if (isOpen) {
            lastFocusedElement = document.activeElement;
            // Focus first focusable element inside the menu
            setTimeout(() => {
              const focusables = mobileMenu.querySelectorAll(focusSelectors);
              if (focusables.length) focusables[0].focus();
            }, 0);
            document.addEventListener("keydown", handleKeydown);
          } else {
            document.removeEventListener("keydown", handleKeydown);
            // Restore focus to the toggle button
            if (toggleBtn) toggleBtn.focus();
            lastFocusedElement = null;
          }
        }

        window.toggleMobileMenu = function toggleMobileMenu() {
          const willOpen = !mobileMenu.classList.contains("active");
          setMenuState(willOpen);
        };

        function handleKeydown(e) {
          if (e.key === "Escape") {
            setMenuState(false);
            return;
          }
          if (e.key !== "Tab" || !mobileMenu.classList.contains("active"))
            return;
          const focusables = mobileMenu.querySelectorAll(focusSelectors);
          if (!focusables.length) return;
          const first = focusables[0];
          const last = focusables[focusables.length - 1];
          if (e.shiftKey && document.activeElement === first) {
            e.preventDefault();
            last.focus();
          } else if (!e.shiftKey && document.activeElement === last) {
            e.preventDefault();
            first.focus();
          }
        }

        function handleOutsideClick(e) {
          if (!mobileMenu.contains(e.target) && !toggleBtn.contains(e.target))
            setMenuState(false);
        }

        document.addEventListener("DOMContentLoaded", function () {
          // Close on link click
          document
            .querySelectorAll(".mobile-menu .menu-link, .mobile-menu .button")
            .forEach((link) =>
              link.addEventListener("click", () => setMenuState(false))
            );

          // Outside click
          document.addEventListener("click", handleOutsideClick);

          // Resize/orientation: close on desktop, update position on mobile
          window.addEventListener("resize", () => {
            if (window.innerWidth > 991) {
              setMenuState(false);
            } else if (mobileMenu.classList.contains("active")) {
              updateMenuPosition();
            }
          });

          // Skip link: move programmatic focus to <main>
          const skip = document.querySelector(".skip-link");
          if (skip) {
            skip.addEventListener("click", function () {
              const main = document.getElementById("main");
              if (main) main.focus();
            });
          }
        });
      })();
    </script>
  </body>
</html>
